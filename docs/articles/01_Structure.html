<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Explore the structure of SSNAPStats • ssnapstats</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Explore the structure of SSNAPStats">
<meta property="og:description" content="">
<meta property="og:image" content="http://strokeaudit.org/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ssnapstats</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/01_Structure.html">Explore the structure of SSNAPStats</a>
    </li>
    <li>
      <a href="../articles/02_UsingSSNAPStats.html">Use SSNAPStats to create output data</a>
    </li>
    <li>
      <a href="../articles/03_AddCohortsAndMeasures.html">Add cohorts and measures to SSNAP</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/SSNAP/SSNAPStats">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="01_Structure_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="01_Structure_files/d3-3.3.8/d3.min.js"></script><script src="01_Structure_files/dagre-0.4.0/dagre-d3.min.js"></script><link href="01_Structure_files/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet">
<script src="01_Structure_files/mermaid-0.3.0/dist/mermaid.slim.min.js"></script><link href="01_Structure_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="01_Structure_files/chromatography-0.1/chromatography.js"></script><script src="01_Structure_files/DiagrammeR-binding-1.0.0/DiagrammeR.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Explore the structure of SSNAPStats</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/SSNAP/SSNAPStats/blob/master/vignettes/01_Structure.Rmd"><code>vignettes/01_Structure.Rmd</code></a></small>
      <div class="hidden name"><code>01_Structure.Rmd</code></div>

    </div>

    
    
<div id="about-the-ssnap-r-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#about-the-ssnap-r-packages" class="anchor"></a>About the SSNAP R packages</h2>
<p>SSNAPStats is a package designed to produce statistics from national audit data. It is specifically designed around Stroke Sentinel National Audit data (see <a href="http://www.strokeaudit.org" class="uri">http://www.strokeaudit.org</a>), but recent developments have made it sufficiently generic to be potentially applicable to other audits in future.</p>
<p>SSNAPStats is part of a group of packages for processing SSNAP data:</p>
<div id="htmlwidget-3d489646271837770708" style="width:672px;height:672px;" class="DiagrammeR html-widget"></div>
<script type="application/json" data-for="htmlwidget-3d489646271837770708">{"x":{"diagram":"graph TB;\n  A>Raw SSNAP Data]-->B(SSNAPInterface);\n  B-->C(SSNAPStats);\n  C-->E(SSNAPReports);\n  D(SSNAPCharts)-->E;\n  D-->F((SSNAP Dashboard));\n  C-->F"},"evals":[],"jsHooks":[]}</script><ul>
<li>
<a href="https://ssnap.github.io/SSNAPInterface/">SSNAPInterface</a> loads raw CSV file data.</li>
<li>
<a href="https://ssnap.github.io/SSNAPStats/">SSNAPStats</a> processes loaded SSNAP data, organises the data into cohorts and prepares aggregated data for reporting.</li>
<li>
<a href="https://ssnap.github.io/SSNAPCharts/">SSNAPCharts</a> provides generic report outputs for reports.</li>
<li>
<a href="https://ssnap.github.io/SSNAPReports/">SSNAPReports</a> produces reports from SSNAP data.</li>
<li>
<a href="https://ssnap.github.io/SSNAPDashboard/">SSNAPDashboard</a> is a Shiny-based application for realtime SSNAP data analysis.</li>
</ul>
</div>
<div id="how-does-ssnapstats-analyse-audit-data" class="section level2">
<h2 class="hasAnchor">
<a href="#how-does-ssnapstats-analyse-audit-data" class="anchor"></a>How does SSNAPStats analyse audit data?</h2>
<p>SSNAPStats breaks down the audit processing into a set of key steps:</p>
<div id="htmlwidget-4ec1b8f02857eb6805c4" style="width:672px;height:672px;" class="DiagrammeR html-widget"></div>
<script type="application/json" data-for="htmlwidget-4ec1b8f02857eb6805c4">{"x":{"diagram":"graph TB;\n  A(cohorts)-->D{create_cohort};\n  B(audit_measure)-->C(audit_output_spec);\n  C-->D"},"evals":[],"jsHooks":[]}</script><p>The first step is to set up rules to produce a definition of the <strong>cohorts</strong> you want to use. Cohorts are time series-orientated collections of patient records.</p>
<p>The second stage is to set up rules to produce <strong>audit measures</strong>. These rules produce either discrete results (ie. counts of a particular value, or proportions of patients meeting or not meeting a condition,) or they may be continuous (ie. to create median values).</p>
<p>Different outputs of results from an audit require different levels of detail: the more detail you request the longer it takes to process. An <strong>audit output specification</strong> is used to produce a list of the audit measures you want, alongside how much detail from each measure in the list, without having to re-write the same measure multiple times to get different levels of detail for different purposes.</p>
<p>Finally we use the <strong>create_cohort()</strong> function to apply the cohort definition with the audit output specification to produce the results.</p>
</div>
<div id="shortcuts-to-make-routine-ssnap-data-analysis-easier" class="section level2">
<h2 class="hasAnchor">
<a href="#shortcuts-to-make-routine-ssnap-data-analysis-easier" class="anchor"></a>Shortcuts to make routine SSNAP data analysis easier</h2>
<p>So far the process we have described is applicable to all audits. With SSNAP, there are predefined cohort definitions, and predefined lists of audit measures that are used for routine published analysis.</p>
<p>To make things simpler, there are a set of lists and functions, all prefixed with <strong>ssnap_</strong>, that make handling routine data easier. These use pre-built cohorts and measures within the package. There are also functions to build a ‘ssnapScores’ table - which takes aggregated data from multiple cohorts and produces the scored reports seen in published SSNAP data. These functions are all built using the lower level generic functions described earlier.</p>
<ul>
<li>
<strong>ssnap_field</strong> is a named list of ‘record level’ expressions (such as time differences). These are inserted into audit measures to make the code easier to read and/or reduce duplication.</li>
<li>
<strong>ssnap_measures</strong> is a named list of audit measures used in SSNAP.</li>
<li>
<strong>ssnap_cohort_definitions</strong> is a named list of cohort definitions.</li>
<li>The <strong>ssnap_audit_output_specs.R file</strong> defines a set of audit output specifications for cohorts used in SSNAP analysis. Each one of these is a tibble.</li>
<li>
<strong>ssnap_cohorts</strong> is a simplified version of the <strong>create_cohort</strong> functions. It creates cohorts using the pre-defined cohorts and measures.</li>
</ul>
<p>SSNAP reporting periods have changed over time from three monthly to four monthly and back again; therefore there are also definitions for the reporting periods and annual report periods for time series analysis and filtering.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#about-the-ssnap-r-packages">About the SSNAP R packages</a></li>
      <li><a href="#how-does-ssnapstats-analyse-audit-data">How does SSNAPStats analyse audit data?</a></li>
      <li><a href="#shortcuts-to-make-routine-ssnap-data-analysis-easier">Shortcuts to make routine SSNAP data analysis easier</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://www.linkedin.com/in/andrew-hill-39437177/">Andrew Hill</a>, <a href="https://www.linkedin.com/in/lizz-paley-b3a509155/">Lizz Paley</a>, <a href="https://www.linkedin.com/in/victoria-mccurran-69b43b91/">Victoria McCurran</a>, <a href="https://www.linkedin.com/in/ben-bray-a1380331/">Ben Bray</a>, <a href="https://www.strokeaudit.org"><img src="https://www.strokeaudit.org/App_Themes/SSNAP/Images/SSNAPlogo.jpg?v=2"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
