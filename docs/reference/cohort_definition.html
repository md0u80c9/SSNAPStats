<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Creates a new cohort_definition object — cohort_definition • ssnapstats</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Creates a new cohort_definition object — cohort_definition" />

<meta property="og:description" content="This function is used to create a new cohort_definition." />

<meta property="og:image" content="http://strokeaudit.org/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ssnapstats</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/01_Structure.html">Explore the structure of SSNAPStats</a>
    </li>
    <li>
      <a href="../articles/02_UsingSSNAPStats.html">Use SSNAPStats to create output data</a>
    </li>
    <li>
      <a href="../articles/03_AddCohortsAndMeasures.html">Add cohorts and measures to SSNAP</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/SSNAP/SSNAPStats">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates a new cohort_definition object</h1>
    <small class="dont-index">Source: <a href='https://github.com/SSNAP/SSNAPStats/blob/master/R/cohort_definition.R'><code>R/cohort_definition.R</code></a></small>
    <div class="hidden name"><code>cohort_definition.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function is used to create a new <code>cohort_definition</code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>cohort_definition</span>(<span class='no'>cohort_name</span>, <span class='no'>row_selection_criteria</span>,
  <span class='no'>reporting_period_index_name</span>, <span class='kw'>choose_records_from</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>apply_data_from</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>csv_columns</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>row_selection_criteria</th>
      <td><p>A list of expressions which describe
the filters to be applied to the raw data.</p></td>
    </tr>
    <tr>
      <th>reporting_period_index_name</th>
      <td><p>The name of a date/time
field which will be used as the temporal index for results.</p></td>
    </tr>
    <tr>
      <th>choose_records_from</th>
      <td><p>A function which describes how
to find the records we want in our population. The function should
accept a single parameter, <code>source_data</code>. Typical uses of this
parameter are to apply slice operations for example, or complex
filter operations in combination with other actions. If not
required, this parameter should be set as NULL or omitted.</p></td>
    </tr>
    <tr>
      <th>apply_data_from</th>
      <td><p>A function which describes how to query for
the data we want to apply to our final cohort. This is used where
we might want to apply data from records different to the ones we
have selected (such as in SSNAP's Team72hr cohort where we choose
records from the admitting team, but we apply the results from
the team who locked the record at 72hrs).</p></td>
    </tr>
    <tr>
      <th>csv_columns</th>
      <td><p>a character vector of all the columns from the
raw CSV file needed to make this audit measure.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The created cohort_definition object.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Cohort definitions are used to describe how to take raw audit data
and select the data to represent a particular cohort.</p>
<p>Most cohorts involve selecting, and/or filtering data to get the
required cohort. <code>row_selection_criteria</code> is used to pass a
list of filters which should be applied. The filters are passed as
a list of expressions: where multiple filters are present they are
ANDed together (the equivalent to each individual filter being
applied in sequence).</p>
<p>All cohorts are time series objects: it is therefore important to
state which time series will form the index. The <code>tsibble</code>
package is used to support temporal-context outputs. This allows
the final results to be broken down and displayed by date range.
Sometimes rather than just selection we need to do more complex
operations to select our cohort - such as slicing the data to find
the first record meeting criteria. In these circumstances we
provide a function in choose_records_from, which must take in a
single parameter (<code>source_data</code>).</p>
<p>Where we have multiple records pertaining to a patient (for
example where the patient has multiple admissions, or passes
between different teams), we may want to apply the results from
other records to our selected cohort. To do this we can use the
<code>apply_data_from</code> parameter. The cohort selection is then
right joined by <code>dplyr</code> to the apply_data_from results. Like
<code>choose_records_from</code> this is a function with a single
parameter <code>source_data</code>.</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.linkedin.com/in/andrew-hill-39437177/'>Andrew Hill</a>, <a href='https://www.linkedin.com/in/lizz-paley-b3a509155/'>Lizz Paley</a>, <a href='https://www.linkedin.com/in/victoria-mccurran-69b43b91/'>Victoria McCurran</a>, <a href='https://www.linkedin.com/in/ben-bray-a1380331/'>Ben Bray</a>, <a href='https://www.strokeaudit.org'><img src='https://www.strokeaudit.org/App_Themes/SSNAP/Images/SSNAPlogo.jpg?v=2'></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

